<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hotsink Devlog</title>
    <meta name="description" content="Hotsink is a minimal, smart Redis proxy devlog focused on reducing hot key bottlenecks with clear phases and progress updates.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans+Code:ital,wght@0,300..800;1,300..800&family=Manrope:wght@200..800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <div class="container">
        <header>
            <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode">Theme</button>
            <h1>Hotsink Devlog</h1>
            <p>A smart proxy for Redis that automatically mitigates hot key bottlenecks.</p>
        </header>

        <main>
            <section id="about" class="card" aria-labelledby="about-title">
                <h2 id="about-title">The Idea üí°</h2>
                <p>Hotsink sits between your app and Redis, smoothing hot key spikes with a lightweight, minimal proxy. This devlog tracks the build in small, focused phases.</p>
            </section>

            <section id="progress" class="card" aria-labelledby="roadmap-title">
                <h2 id="roadmap-title">Project Roadmap üó∫Ô∏è</h2>
                <p style="margin-top:-0.5rem; color: var(--text-secondary)">High-level milestones. Each phase should be shippable and observable.</p>
                <ul class="roadmap-list">
                    <li>
                        <strong>Phase 1: Basic TCP Proxy Infrastructure</strong>
                        <ul>
                            <li>Implement TCP listener for Redis client connections</li>
                            <li>Create connection pooling to backend Redis Cluster</li>
                            <li>Establish basic request/response forwarding</li>
                            <li>Implement connection management and graceful shutdown</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section id="log" class="card" aria-labelledby="log-title">
                <h2 id="log-title">Log Entries</h2>
                
                <article class="log-entry collapsible">
                    <div class="log-header" onclick="toggleLog(this)">
                        <h3>Add basic TCP proxy server with clean linters and unit tests</h3>
                        <time class="date">September 2 2025</time>
                        <span class="toggle-icon">‚ñº</span>
                    </div>
                    
                    <div class="log-content">
                        <p>Implemented a simple TCP proxy server in <code>internal/proxy/server.go</code> with:</p>
                        
                        <ul>
                            <li><strong><code>Server struct</code></strong> managing listener, connections, and shutdown.</li>
                            <li><strong><code>Start() method</code></strong> to accept client connections concurrently.</li>
                            <li><strong><code>Shutdown() method</code></strong> for graceful stop of the server.</li>
                            <li><strong>Proper error handling</strong> for all <code>Close()</code> operations.</li>
                            <li><strong>GoDoc comments</strong> for all exported types and functions to satisfy linters.</li>
                        </ul>
                        
                        <p><strong>Configured golangci-lint compatible code style:</strong></p>
                        <ul>
                            <li>Fixed errcheck issues by checking returned errors.</li>
                            <li>Fixed revive warnings by adding concise documentation.</li>
                        </ul>
                        
                        <p><strong>Added unit test in <code>internal/proxy/server_test.go</code>:</strong></p>
                        <ul>
                            <li>Tests server start, accept connections, and shutdown.</li>
                            <li>Verifies connections can be established and server stops correctly.</li>
                            <li>Handles connection close errors to satisfy linters.</li>
                            <li>Ensures clean lint output and GoDoc compliance.</li>
                        </ul>
                    </div>
                </article>

            </section>
        </main>

        <footer>
            <p>Built with Go. | <a href="https://github.com/dask-58/hotsink" target="_blank">GitHub</a></p>
        </footer>
    </div>

    <script src="script.js" defer></script>
</body>
</html>
